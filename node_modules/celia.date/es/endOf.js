/*
 * celia.date.js v1.0.0
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
import 'celia/isNil';
import 'celia/_loop';
import { M as MS_OF_DAY, a as MS_OF_HOUR, b as MS_OF_MINUTE, c as MS_OF_SECOND } from './_dateConsts-b029053d.js';
import { Y as YEAR, M as MONTH, c as DATE, D as DAY, H as HOUR, a as MINUTE, S as SECOND, n as normalizeUnit, b as MILLISECOND } from './_normalizeUnit-4674c723.js';
import { s as startOfDate, a as startOfTime } from './_startOf-10b13b76.js';

function endOf (date, unit) {
  unit = normalizeUnit(unit, MILLISECOND);

  var time = 0;

  switch (unit) {
    case YEAR:
      time = startOfDate(date, date.getFullYear() + 1, 0, 1) - 1;
      break;
    case MONTH:
      time = startOfDate(date, null, date.getMonth() + 1, 1) - 1;
      break;
    case DATE:
    case DAY:
      time = startOfDate(date) + MS_OF_DAY - 1;
      break;
    case HOUR:
      time = startOfTime(date, MS_OF_HOUR) + MS_OF_HOUR - 1;
      break;
    case MINUTE:
      time = startOfTime(date, MS_OF_MINUTE) + MS_OF_MINUTE - 1;
      break;
    case SECOND:
      time = startOfTime(date, MS_OF_SECOND) + MS_OF_SECOND - 1;
      break;
  }

  time && date.setTime(time);

  return date;
}

export default endOf;
