/*
 * celia.date.js v1.0.0
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
var e,t;e=this,t=function(e){"use strict";var a=function(e){return null!==e&&"object"==typeof e};var s=function(e,t){return t?e.bind(t):e},n=Object.prototype.hasOwnProperty;var u=function(e,t){return n.call(e,t)};var c=function(e,t,n){for(var r in t=s(t,n),e)if(u(e,r)&&!1===t(e[r],r,e))break};var d=function(e){return null==e};function i(e,t){return t?new Date(Date.UTC(e[0],e[1]||0,d(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)):new Date(e[0],e[1]||0,d(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)}var r=function(e,t,n,r){for(;t<n;t++)r(e[t],t,e)},o=(new Date).getTimezoneOffset(),f=1e3,l=6e4,g=36e5,h=864e5,t=Date.prototype;t.setDay||(t.setDay=function(e){var t=this.getDay();e!==t&&this.setTime(+this+(e-t)*h)});var m={},v={};function Y(e,n,t){v[e]=v[t||e]=function(e,t){return d(t)?e["get"+n]():(e["set"+n](t),e)}}function D(t){r(arguments,0,arguments.length,function(e){m[e]=t}),m[t]=t}var M="year",b="month",S="date",H="day",y="hour",k="minute",p="second",w="millisecond",T="time";function x(e,t){return m[e]||t}function O(e){switch(e=x(e,w)){case M:return 0;case b:return 1;case H:return 2;case y:return 3;case k:return 4;case p:return 5;case w:return 6}}function Z(e,t,n){var r=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];return a(t)?c(t,function(e,t){r[O(t)]+=e}):r[O(n)]+=t,e.setTime(+i(r)),e}function F(e){return new Date(+e)}Y(M,"FullYear"),Y(b,"Month"),Y(S,"Date"),Y(H,"Day","days"),Y(y,"Hours","hours"),Y(k,"Minutes","minutes"),Y(p,"Seconds","seconds"),Y(w,"Milliseconds","milliseconds"),Y(T,"Time"),D(M,"Y"),D(b,"M"),D(S,"D"),D(H,"days","d"),D(y,"hours","h"),D(k,"minutes","m"),D(p,"seconds","s"),D(w,"milliseconds","ms"),D(T,"t");var A=function(e,t,n){for(;e<t;e++)n(e,t)};var I=function(e){return void 0===e};function C(e){var t=e.getFullYear();return t%4==0&&t%100!=0||t%400==0}var U=[31,28,31,30,31,30,31,31,30,31,30,31],W=[31,29,31,30,31,30,31,31,30,31,30,31];function j(e){return C(e)?W:U}var B=function(e){return"string"==typeof e};var V=function(e,t,n,r,a){r=s(r,a);for(var u=t;u<n;u++)u=!1===r(e[u],u,e)?n:u};var $=function(e,t,n){V(e,0,e.length,t,n)};var z=function(e){return"number"==typeof e};var L=function(e){return e instanceof Date},P=/^\/?Date\((-?\d+)/i,_=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)\s*([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,q=[["YYYY-MM-DD",/(\d{4})-(\d\d)-(\d\d)/],["YYYY-MM",/(\d{4})-(\d\d)/,!1],["YYYYMMDD",/(\d{4})(\d\d)(\d\d)/],["YYYYMM",/(\d{4})(\d\d)/,!1],["YYYY",/\d{4}/,!1]],E=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)\s*([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,G=/\[.*?\]|Y{2,4}|y{2,4}|M{1,2}|D{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|SSS|Z{1,2}/g,J=[["HH:mm:ss.SSSS",/(\d\d):(\d\d):(\d\d)\.(\d+)/],["HH:mm:ss,SSSS",/(\d\d):(\d\d):(\d\d),(\d+)/],["HH:mm:ss",/(\d\d):(\d\d):(\d\d)/],["HH:mm",/(\d\d):(\d\d)/],["HHmmss.SSSS",/(\d\d)(\d\d)(\d\d)\.(\d+)/],["HHmmss,SSSS",/(\d\d)(\d\d)(\d\d),(\d+)/],["HHmmss",/(\d\d)(\d\d)(\d\d)/],["HHmm",/(\d\d)(\d\d)/],["HH",/\d\d/]],K=/(Z)|[+-](\d\d)(?::?(\d\d))?/;function N(e,t,n){if(!B(e))return i(e,!0===t);var r;if(B(t))return i(r=function(n,r){var e,t=r.length,a=[],u=!1;if(A(0,t,function(e){var t=n.charAt(e);switch(r.charAt(e)){case"Y":case"y":a[0]=(a[0]||"")+t;break;case"M":a[1]=(a[1]||"")+t;break;case"D":case"d":a[2]=(a[2]||"")+t;break;case"H":case"h":a[3]=(a[3]||"")+t;break;case"m":a[4]=(a[4]||"")+t;break;case"s":a[5]=(a[5]||"")+t;break;case"S":a[6]=(a[6]||"")+t;break;case"Z":u=!0}}),a=a.map(function(e){return parseInt(e,10)}),u)if(e=K.exec(n.slice(-1<r.indexOf("ZZ")?-5:-6))){var s=o;if(!e[1]){var c="+"===e[0].charAt(0)?1:-1;a[3]-=e[2]*c,a[4]-=(e[3]||0)*c}a[4]-=s}else a.isUTC=u&-1<n.indexOf("Z");return d(a[1])||(a[1]-=1),a}(e,t),r.isUTC||n);if((r=function(e){var n,r,a=[],u=E.exec(e)||_.exec(e);if(u){if($(q,function(e,t){if(r=e[1].exec(u[1]))return A(0,3,function(e){a[e]=parseInt(r[e+1]||1,10)}),a[1]-=1,n=!1!==e[2],!1}),e.indexOf(a[0]))return e;if(r=null,u[3]&&$(J,function(e){if(r=e[1].exec(u[3]))return a=a.concat(r.slice(1).map(function(e){return parseInt(e,10)})),!1}),!n&&r)return a;if(r=null,u[4]){r=K.exec(u[4]);var t=o;r[1]||(a[3]-=r[2],a[4]-=r[3]||0),a[4]-=t}return a}return 4===e.length&&q[4][1].test(e)?((a=[parseInt(e,10),0,1]).isUTC=!0,a):e}(e))!==e)return i(r,r.isUTC||!0===t);var a=P.exec(e);return new Date(null!==a?+a[1]:e)}function Q(e,t,n){return e=d(e)?new Date:e.length?N(e,t,n):z(e)?new Date(e):L(e)?new Date(+e):e._i&&e.isValid()?new Date(+e):new Date}function R(e,t){var n=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),r=Z(F(e),n,b);return-(n+(t<r?(t-r)/(r-Z(F(e),n-1,b)):(t-r)/(Z(F(e),1+n,b)-r)))||0}function X(e,t){var n=+e;return n-n%t}function ee(e,t,n,r){return+new Date(t||e.getFullYear(),d(n)?e.getMonth():n,r||e.getDate())}function te(e,t){var n=0;switch(t=x(t,w)){case M:n=ee(e,e.getFullYear()+1,0,1)-1;break;case b:n=ee(e,null,e.getMonth()+1,1)-1;break;case S:case H:n=ee(e)+h-1;break;case y:n=X(e,g)+g-1;break;case k:n=X(e,l)+l-1;break;case p:n=X(e,f)+f-1}return n&&e.setTime(n),e}var ne="00";function re(e,t){return void 0===t&&(t=2),(ne+e).slice(-t)}function ae(e,t){var n;return e<0?(n="+",e=Math.abs(e)):n="-",""+n+re(Math.floor(e/60))+(t?"":":")+re(Math.floor(e%60))}function ue(e){return 12<(e=e||24)?e-12:e}function se(e,t){var n=0;switch(t=x(t,w)){case M:n=ee(e,null,0,1);break;case b:n=ee(e,null,null,1);break;case S:case H:n=ee(e);break;case y:n=X(e,g);break;case k:n=X(e,l);break;case p:n=X(e,f)}return n&&e.setTime(n),e}function ce(e,t,n,r){if(t=Q(t),(n=x(n,w))===w)switch(r){case"before":return+e<+t;case"after":return+t<+e;default:return+e==+t}else{var a=+t;switch(r){case"before":return+te(F(e),n)<a;case"after":return+se(F(e),n)>a;default:return+se(F(e),n)<=a&&a<=+te(F(e),n)}}}function de(e,t,n){return ce(e,t,n,"after")}function ie(e,t,n){return ce(e,t,n,"before")}e.add=Z,e.clone=F,e.dayOfYear=function(e,t){var n=j(e),r=e.getMonth(),a=0;return A(0,r,function(e){a+=n[e]}),a+=e.getDate(),I(t)?a:(e.setTime(+e+(t-a)*h),e)},e.daysInMonth=function(e){return function(e,t){return j(e)[t]}(e,e.getMonth())},e.diff=function(e,t,n,r){var a;switch(t=Q(t),n=x(n)){case M:a=R(e,t)/12;break;case b:a=R(e,t);break;case H:a=(e-t)/h;break;case y:a=(e-t)/g;break;case k:a=(e-t)/l;break;case p:a=(e-t)/f;break;default:a=e-t}return r?a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)}(a)},e.endOf=te,e.format=function(t,e){return e&&"UTC"!==e?e.replace(G,function(e){switch(e){case"YY":return String(t.getFullYear()).slice(-2);case"YYYY":case"yyyy":return t.getFullYear();case"M":return t.getMonth()+1;case"MM":return re(t.getMonth()+1);case"D":case"d":return t.getDate();case"DD":case"dd":return re(t.getDate());case"H":return t.getHours();case"HH":return re(t.getHours());case"h":return ue(t.getHours());case"hh":return re(ue(t.getHours()));case"m":return t.getMinutes();case"mm":return re(t.getMinutes());case"s":return t.getSeconds();case"ss":return re(t.getSeconds());case"SSS":return re(t.getMilliseconds(),3);case"Z":return ae(o);case"ZZ":return ae(o,!0);default:return e}}):t.toISOString()},e.get=function(e,t){return t=x(t,T),v[t](e)},e.isAfter=de,e.isBefore=ie,e.isBetween=function(e,t,n,r,a){return("("===(a=a||"()").charAt(0)?de(e,t,r):!ie(e,t,r))&&(")"===a.charAt(1)?ie(e,n,r):!de(e,n,r))},e.isLeapYear=C,e.isSame=function(e,t,n){return ce(e,t,n)},e.isSameOrAfter=function(e,t,n){return!ie(e,t,n)},e.isSameOrBefore=function(e,t,n){return!de(e,t,n)},e.isValid=function(e){return"Invalid Date"!==e.toString()},e.parse=Q,e.set=function(e,t,n){return(t=x(t))&&v[t](e,n),e},e.startOf=se,e.subtract=function(e,t,n){return Z(e,-t,n)}},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).celiaDate={});