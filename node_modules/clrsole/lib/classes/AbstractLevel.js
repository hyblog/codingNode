'use strict';

const { isLevelEnabled, isValid } = require('../util');

class AbstractLevel {

  /**
   * 构造函数
   * @param {Object} options
   */
  constructor(options) {
    this.options = options || {};
    const { level } = this.options;
    this.setLevel(level);
  }

  /**
   * 设置日志级别
   * @param {String} level 日志级别
   */
  setLevel(level) {
    if (isValid(level)) {
      this.level = level.toLocaleUpperCase();
    }
    return this;
  }

  /**
   * 判断当前级别是否启用
   * @param {String} l
   */
  isLevelEnabled(l) {
    return isLevelEnabled(this.level, l);
  }

}

module.exports = AbstractLevel;
