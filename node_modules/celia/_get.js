/*
 * celia.js v6.1.4
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
'use strict';

var isNil = require('./isNil.js');
var isString = require('./isString.js');
var regexp = require('./regexp-4b37f4e8.js');

function get (object, path) {
  if (!isString(path) || !regexp.IS_DEEP_PROP_REGEX.test(path)) {
    return object[path];
  }

  var part;
  regexp.PROP_NAME_REGEX.lastIndex = 0;
  while (!isNil(object) && (part = regexp.PROP_NAME_REGEX.exec(path))) {
    var match = part[0];
    var number = part[1];
    var quote = part[2];
    var subString = part[3];
    var prop = quote ? subString.replace(regexp.ESCAPE_CHAR_REGEX, '$1') : (number || match);
    object = object[prop];
  }
  return object;
}

module.exports = get;
