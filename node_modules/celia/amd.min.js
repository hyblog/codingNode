/*
 * celia.js v6.1.4
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
define(["exports"],function(n){"use strict";function u(n,r){return n[n.length]=r,n}function v(n){return null==n}function e(n,r,t,e){for(;r<t;r++)e(n[r],r,n)}function c(n,r){return r?n.bind(r):n}function i(n,r,t){r=c(r,t);for(var e=Object.keys(n),o=e.length,i=0,u=void 0;i<o;i++)!1===r(n[u=e[i]],u,n)&&(i=o)}function r(n){if(v(n))throw new TypeError("Cannot convert undefined or null to object");var t=Object(n);return e(arguments,1,arguments.length,function(n){v(n)||i(n,function(n,r){t[r]=n})}),t}var o=Array.isArray;function f(n,r,t){return e(n,0,n.length,function(n){0<t?o(n)?f(n,r,--t):u(r,n):o(n)?e(n,0,n.length,function(n){u(r,n)}):u(r,n)}),r}function a(n,r,t,e,o){e=c(e,o);for(var i=r;i<t;i++)!1===e(n[i],i,n)&&(i=t)}function l(n,r,t){a(n,0,n.length,r,t)}function s(n,r,t){for(var e in r=c(r,t),n)if(!1===r(n[e],e))break}function p(n,r,t){r=c(r,t);for(var e=0;e<n;e++)!1===r(e,e,n)&&(e=n)}function g(n){return"string"==typeof n}var y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;function d(n,r){if(!g(r)||!b.test(r))return n[r];var t;for(y.lastIndex=0;!v(n)&&(t=y.exec(r));){var e=t[0],o=t[1],i=t[2],u=t[3];n=n[i?u.replace(h,"$1"):o||e]}return n}function j(n){return"number"==typeof n}function t(n){return j(n)&&isFinite(n)&&n>>0===n}function m(n,r,t,e){var o=[],i=c(t,e);return n(r,function(n,r){v(n=i(n,r))||u(o,n)}),o}function A(n,r){return n.splice(r,1)[0]||null}function O(n,r){var t=n.indexOf(r);return-1<t?A(n,t):null}function _(n,r){return n<0?function(n,r){return r<n?n:r}(0,r+n):n}function w(n){return null!==n&&"object"==typeof n}function E(n,r,t){v(n)||i(n,r,t)}var x=Array.isArray;var C=Object.assign||r;var S=/[-_. ]+([a-z])/g,I=Object.create(null);var N=Object.create(null);function F(n){return"function"==typeof n}function k(n){return!v(n)&&j(n.length)&&!F(n)}function P(n,r,t){k(n)?l(n,r,t):j(n)?p(n,r,t):v(n)||i(n,r,t)}function U(n,r){return n?f(n,[],r||1):[]}var z=/\{\s*(\d+)\s*\}/g,D=/\{\s*(\w+)\s*\}/g;var L="celia_uid_"+(1e9*Math.random()>>>0),T=0;function R(n){return n[L]||(++T,Object.defineProperty(n,L,{configurable:!0,value:T}),T)}var $=Object.prototype.hasOwnProperty;var B=/^([a-z][a-z\d+\-.]*:)?\/\//i;var M=Object.prototype.toString;function q(n){return M.call(n)}function H(n){return n instanceof Date}var V={false:!0,null:!0,undefined:!0,0:!0,NaN:!0,"":!0};var W=Number.isInteger||t;function X(n){return n instanceof RegExp}var G=Array.isArray;var J=Array.isArray;var K=Array.isArray;var Q=Array.isArray;var Y={};"Boolean,Number,String,Function,AsyncFunction,Array,Date,RegExp,Object,Error,Symbol".split(",").forEach(function(n){Y["[object "+n+"]"]=n.toLowerCase()}),n._append=u,n._assign=r,n._bindContext=c,n._flatten=f,n._forEach=l,n._forIn=s,n._forNumber=p,n._forOwn=i,n._forSlice=a,n._get=d,n._isInteger=t,n._loop=e,n._map=m,n._remove=O,n._removeAt=A,n._repeat=function(n,r,t){for(;n<r;n++)t(n,r)},n._transIndex=_,n.afterCall=function(n,r,e){if(w(n)){var o=n[r];n[r]=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var t=o.apply(this,n);return e.apply(this,n,t)}}},n.alias=function(t,n){w(t)&&E(n,function(n,r){r=t[r],x(n)?n.forEach(function(n){return t[n]=r}):t[n]=r})},n.aroundCall=function(n,r,t){if(w(n)){var e=n[r];n[r]=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return t.call(this,e,n)}}},n.assert=function(n,r){if(!n)throw new Error(r)},n.assign=C,n.assignDeep=function(n){if(v(n))throw new TypeError("Cannot convert undefined or null to object");var r=Object(n);return e(arguments,1,arguments.length,function(n){!function t(e,n){var o;v(n)||i(n,function(n,r){w(o=e[r])&&w(n)?t(o,n):e[r]=n})}(r,n)}),r},n.beforeCall=function(n,r,t){if(w(n)){var e=n[r];n[r]=function(){return t.apply(this,arguments),e.apply(this,arguments)}}},n.camelize=function(n){return g(n)?I[n]||(I[n]=n.replace(S,function(n,r){return r.toUpperCase()})):n},n.capitalize=function(n){return g(n)?N[n]||(N[n]=n.charAt(0).toUpperCase()+n.slice(1)):n},n.debounce=function(n,r){var t=null;function e(){null!==t&&(clearTimeout(t),t=null)}function o(){e(),t=setTimeout(n,r)}return o.cancel=e,o},n.each=P,n.flatten=U,n.flattenDeep=function(n){return U(n,Number.MAX_VALUE)},n.forEach=function(n,r,t){n&&a(n,0,n.length,r,t)},n.forIn=function(n,r,t){v(n)||s(n,r,t)},n.forOwn=E,n.forSlice=function(n,r,t,e,o){if(n){var i=n.length;F(r)?(o=t,e=r,t=i,r=0):F(t)&&(o=e,e=t,t=i),a(n,r=_(r,i),t=_(t,i),e,o)}},n.formatString=function(n,e){var r=arguments;if(n&&!v(e)){var t=D;if(!w(e)){var o=arguments.length;for(e=[];--o;)e[o-1]=r[o];t=z}n=n.replace(t,function(n,r){var t=e[r];return v(t)?n:t})}return n},n.get=function(n,r,t){var e=v(n)?void 0:d(n,r);return void 0===e?t:e},n.getEasyHash=function(n){return w(n)?"o"+R(n):(typeof n)[0]+n},n.getUid=R,n.hasOwn=function(n,r){return $.call(n,r)},n.isAbsoluteURL=function(n){return B.test(n)},n.isArrayLike=k,n.isAsyncFunction=function(n){return"[object AsyncFunction]"===q(n)},n.isBoolean=function(n){return"boolean"==typeof n},n.isDate=H,n.isFalsy=function(n){return!!V[n]},n.isFunction=F,n.isInteger=W,n.isNil=v,n.isNumber=j,n.isObject=w,n.isPlainObject=function(n){return!v(n)&&"[object Object]"===q(n)},n.isPromiseLike=function(n){return!!n&&F(n.then)&&F(n.catch)},n.isRegExp=X,n.isString=g,n.isUndefined=function(n){return void 0===n},n.isWindow=function(n){return!!n&&n===n.window},n.joinPath=function(n){var r=arguments.length;if(!r||v(n))return".";var t="";return e(arguments,1,r,function(n){n&&(t+="/",t+=n)}),t&&(n=n.replace(/\/+$/,"")+t.replace(/\/+/g,"/")),n},n.looseClone=function(n,r){return r?function t(n){var e=n;return G(n)?(e=[],n.forEach(function(n,r){e[r]=t(n)})):w(n)&&(e={},i(n,function(n,r){e[r]=t(n)})),e}(n):function(n){return w(n)?C({},n):n}(n)},n.looseEqual=function t(r,e){if(r===e)return!0;if(w(r)&&w(e)){if(J(r)&&J(e))return r.length===e.length&&r.every(function(n,r){return t(n,e[r])});if(H(r)&&H(e))return+r==+e;if(X(r)&&X(e))return r.toString()===e.toString();var n=Object.keys(r),o=Object.keys(e);return n.length===o.length&&n.every(function(n){return t(r[n],e[n])})}return!1},n.map=function(n,r,t){return m(P,n,r,t)},n.mapObject=function(n,r,t){var e={},o=c(r,t);return E(n,function(n,r){v(n=o(n,r))||(e[r]=n)}),e},n.noop=function(){},n.remove=function(n,r){return K(n)?O(n,r):null},n.removeAt=function(n,r){return Q(n)?A(n,r):null},n.set=function(n,r,t){if(!v(n)){if(!g(r)||!b.test(r))return void(n[r]=t);var e,o,i=[],u=0;for(y.lastIndex=0;e=y.exec(r);){var c=e[0],f=e[1],a=e[2],l=e[3],s=void 0;a?v(s=n[o=l.replace(h,"$1")])&&(s=n[o]={}):f?v(s=n[o=f])&&(s=n[f]=[]):v(s=n[o=c])&&(s=n[c]={}),n=s,i[u++]=s}(n=i[u-2])[o]=t}},n.sleep=function(r){return new Promise(function(n){setTimeout(n,r)})},n.toString=q,n.transform=function(n,e,o){return P(n,function(n,r,t){return e(o,n,r,t)}),o},n.type=function(n){return v(n)?n+"":w(n)||F(n)?Y[q(n)]||"object":typeof n}});