/*
 * celia.js v6.1.4
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
'use strict';

require('./_bindContext.js');
var _forSlice = require('./_forSlice.js');
var _transIndex = require('./_transIndex.js');
var isFunction = require('./isFunction.js');

function forSlice (value, start, end, iterator, context) {
  if (value) {
    var len = value.length;
    if (isFunction(start)) { // forEach like
      context = end;
      iterator = start;
      end = len;
      start = 0;
    } else if (isFunction(end)) {
      context = iterator;
      iterator = end;
      end = len;
    }
    // 如果是负数，就需要转成长度对应的正数
    start = _transIndex(start, len);
    end = _transIndex(end, len);

    _forSlice(value, start, end, iterator, context);
  }
}

module.exports = forSlice;
