/*
 * celia.js v6.1.4
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
'use strict';

var _append = require('./_append.js');
var isNil = require('./isNil.js');
var _bindContext = require('./_bindContext.js');

function map (method, elems, callback, context) {
  var ret = [];
  var cb = _bindContext(callback, context);
  method(elems, function (elem, key) {
    elem = cb(elem, key);
    if (!isNil(elem)) {
      _append(ret, elem);
    }
  });
  return ret;
}

module.exports = map;
