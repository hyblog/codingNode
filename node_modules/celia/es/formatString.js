/*
 * celia.js v6.1.4
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
import isNil from './isNil.js';
import isObject from './isObject.js';

var BY_INDEX = /\{\s*(\d+)\s*\}/g;
var BY_KEY = /\{\s*(\w+)\s*\}/g;

function formatString (val, arg) {
  var arguments$1 = arguments;


  if (val && !isNil(arg)) {
    var regexp = BY_KEY;
    if (!isObject(arg)) {
      var len = arguments.length;
      arg = [];

      while (--len) {
        arg[len - 1] = arguments$1[len];
      }

      regexp = BY_INDEX;
    }
    val = val.replace(regexp, function (str, index) {
      var newVal = arg[index];
      return isNil(newVal) ? str : newVal;
    });
  }
  return val;
}

export default formatString;
