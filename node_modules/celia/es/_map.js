/*
 * celia.js v6.1.4
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
import append from './_append.js';
import isNil from './isNil.js';
import bindContext from './_bindContext.js';

function map (method, elems, callback, context) {
  var ret = [];
  var cb = bindContext(callback, context);
  method(elems, function (elem, key) {
    elem = cb(elem, key);
    if (!isNil(elem)) {
      append(ret, elem);
    }
  });
  return ret;
}

export default map;
